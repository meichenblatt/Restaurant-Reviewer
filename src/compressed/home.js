RestaurantApp.controller("homeController",function($scope,$rootScope,$location,Restaurants,$timeout){$scope.getRestaurants=function(filter){void 0===filter&&(filter={}),Restaurants.get({},function(restaurants){$scope.restaurants=[];var temp=[];for(var key in restaurants)"object"==typeof restaurants[key]&&"$promise"!=key&&("{}"===JSON.stringify(filter)?temp.push(restaurants[key]):restaurants[key].City!==filter.City&&restaurants[key].Cuisine!==filter.Cuisine||temp.push(restaurants[key]));$timeout(function(){$scope.$apply(function(){$scope.restaurants=temp,console.log($scope.restaurants)})},10)})},$scope.getRestaurants(),$scope.moreDetails=function(restaurant){$rootScope.restaurant=restaurant,$location.path("restaurant")},$(".dropdown").on("show.bs.dropdown",function(event){var dropdown=$(event.target);dropdown.find(".dropdown-menu").attr("aria-expanded",!0),setTimeout(function(){dropdown.find(".dropdown-menu li:first-child a").focus()},1e3)}),$(".dropdown").on("hidden.bs.dropdown",function(event){var dropdown=$(event.target);dropdown.find(".dropdown-menu").attr("aria-expanded",!1),dropdown.find(".dropdown-toggle").focus()})});